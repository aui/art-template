/*artTemplate - Syntax Extensions*/(function(b){b.openTag="{";b.closeTag="}";b.parser=function(a){var a=a.replace(/^\s/,""),c=a.split(" "),d=c.shift();(d=b.keywords[d])?(c=c.join(" "),a=d.call(a,c)):a="=$escape("+a+")";return a};b.keywords={"if":function(a){return"if("+a+"){"},"else":function(a){a=a.split(" ");a="if"===a.shift()?" if("+a.join(" ")+")":"";return"}else"+a+"{"},"/if":function(){return"}"},each:function(a){var a=a.split(" "),c=a[0],d=a[2],f=a[3],b=a[4],e="";"as"!==a[1]&&(c="[]");d&&(e+=d);f&&(e+=","+f);b&&(e+=","+b);return"$each("+c+",function("+e+"){"},"/each":function(){return"});"},echo:function(a){return"="+a},include:function(a){a=a.split(" ");return"=include("+a[0]+","+a[1]+")"}};b.helper("$each",function(a,c){if(g(a))h.call(a,c);else for(var b in a)c.call(a,a[b],b,a)});b.helper("$escape",function(){var a=/&(?!\w+;)|[<>"']/g,b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","&":"&amp;"},d=function(a){return b[a]||a};return function(b){return"string"===typeof b?b.replace(a,d):b}}());var h=b.helper("$forEach"),i=Object.prototype.toString,g=Array.isArray||function(a){return"[object Array]"===i.call(a)}})(template);